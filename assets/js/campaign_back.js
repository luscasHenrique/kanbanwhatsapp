var is_Select,observerR="",CAMPANHA_STATUS="Ativa";const initCampanha=async e=>{CAMPANHA_STATUS="Ativa";let t=e.timer,a=e.contatos,s=e.script,i=e.abas,l=e.rmEtc,n=e.etiquetas,r=e.arquivar,o=e.is_free,c=0,d=0,p=0,u=0,m=!0;async function h(e){for(let p=e;p<a.length;p++){let h=v(100,600);if(c%t.pausa==0&&c>0&&(document.querySelector('[tag="enviandoPara"]').innerHTML=`${language.camp_pausa_timer} ${t.tempoP} ${language.camp_pausa_timer1}`,await g(1e3*t.tempoP)),document.querySelector('[tag="enviandoPara"]').innerHTML=`${language.camp_sender} ${a[p].name}(${a[p].id})`,m=!0,await y(s,f(a[p].id),a[p].name),i.is&&window.postMessage({message:"vincularAba",aba:i.select,num:a[p].id,name:a[p].name},"*"),l&&b(f(a[p].id)),n.is&&_(n.select,f(a[p].id)),r&&C(f(a[p].id)),S(a[p].name,a[p].id),c+1===a.length){CAMPANHA_STATUS="Finalizada",document.querySelector(".pausaplayContent > img").classList.add("d-none"),document.querySelector('[tag="enviandoPara"]').innerHTML=language.camp_finalizar,clearInterval(d);let w=document.querySelector('[tag="icoCampaign"]');w.setAttribute("active","off"),w.classList.add("filter_white"),w.setAttribute("src",`chrome-extension://${document.querySelector(".waTidyIDContainer").id}/assets/images/svgs/campaign.svg`),Swal.fire({position:"top-start",icon:"success",title:language.swal_camp_finalizar,showConfirmButton:!1,timer:2500}),!0===o&&5===a.length&&window.postMessage({message:"modalFREE"}),setTimeout(()=>{"Finalizada"===CAMPANHA_STATUS&&(document.querySelector(".relatorio-C")?.remove(),document.querySelector("._64p9P")?.classList.remove("d-none"))},6e4);return}if("pausada"===CAMPANHA_STATUS){document.querySelector('[tag="enviandoPara"]').innerHTML=language.camp_pausa_status,clearInterval(d),u=p+1,c++;let A=document.querySelector('[active="transition"]');A.setAttribute("active","play"),A.setAttribute("src",`chrome-extension://${document.querySelector(".waTidyIDContainer").id}/assets/images/svgs/play.svg`);break}if("cancelada"===CAMPANHA_STATUS){x();break}document.querySelector('[tag="enviandoPara"]').innerHTML=`${language.camp_aguarde}...`,await g(h),await g(1e3*t.intervalo),c++}}function g(e){return new Promise(t=>setTimeout(t,e))}function v(e,t){return Math.floor(Math.random()*(t-e+1)+e)}async function y(t,a,s){let i=async(e,t)=>{try{await WPP.chat.sendTextMessage(t,p(e.msg,t),{createChat:!0})}catch(a){m=!1}},l=async(e,t)=>{try{await WPP.chat.sendFileMessage(t,e.base64,{type:"image",caption:p(e.msg,t),createChat:!0})}catch(a){m=!1}},n=async(e,t)=>{try{await WPP.chat.sendFileMessage(t,e.base64,{type:"video",caption:p(e.msg,t),createChat:!0})}catch(a){m=!1}},r=async(e,t)=>{try{await WPP.chat.sendFileMessage(t,e.base64,{type:"audio",isPtt:!0,createChat:!0})}catch(a){m=!1}},o=async(e,t)=>{let a={async quickreply(){let a=[e.btn1,e.btn2,e.btn3],s=[];a.forEach(e=>{0!==e.length&&s.push({text:e})}),s=JSON.parse(JSON.stringify(s));try{await WPP.chat.sendTextMessage(t,e.titulo,{useTemplateButtons:!0,buttons:s,footer:e.descricao})}catch(i){m=!1}},async url(){try{await WPP.chat.sendTextMessage(t,e.titulo,{useTemplateButtons:!0,buttons:[{url:e.url,text:e.btn1}],footer:e.descricao})}catch(a){m=!1}},async call(){try{await WPP.chat.sendTextMessage(t,e.titulo,{useTemplateButtons:!0,buttons:[{phoneNumber:e.PhoneNumber,text:e.btn1}],footer:e.descricao})}catch(a){m=!1}}};switch(e.var){case"quickreply":a.quickreply();break;case"url":a.url();break;case"call":a.call()}},c=async(e,t)=>{try{await WPP.chat.sendFileMessage(t,e.base64,{type:"document",filename:e.name,createChat:!0})}catch(a){m=!1}};async function d(e,t){for(let a=0;a<e.length;a++){let s=e[a];switch(await new Promise(e=>setTimeout(e,500)),s.type){case"txt":await i(s,t);break;case"image":await l(s,t);break;case"video":await n(s,t);break;case"audio":await r(s,t);break;case"Btn":await o(s,t);break;default:await c(s,t)}}}let p=(t,a)=>{let i=e.DADOS_PLANILHA.keys,l=GFN.DADOS_PLANILHA.content;if(0===i.length)return o(t);let n=l.find(e=>e.id===a);if(void 0===n||void 0===n.dados)return o(t);n=n.dados;for(let r=0;r<i.length;r++)t=t.replaceAll(`#${i[r]}`,n[r]);return o(t);function o(e){let t=()=>{let e=[language.saudacao1,language.saudacao2,language.saudacao3,language.saudacao4,language.saudacao5,language.saudacao6],t=Math.floor(Math.random()*e.length);return e[t]};return e=(e=(e=e.replaceAll(language.campain_hashtagSaudacao,t)).replaceAll(language.campain_hashtagName,s)).replaceAll(language.campain_hashtagPrimeiroName,s.split(" ")[0])}};await d(t,a)}function f(e){let t=e;return t.includes("@g.us")||t.length<17?t:t+="@g.us"}async function _(e,t){await WPP.labels.addOrRemoveLabels(t,[{labelId:e,type:"add"}])}async function C(e){await WPP.chat.archive(e,!0)}async function b(e){(await WPP.whatsapp.ChatStore._models).forEach(t=>{if(t.__x_id.user==e||t.__x_id._serialized==e){t.__x_labels.forEach(async t=>{await WPP.labels.addOrRemoveLabels(e,[{labelId:t,type:"remove"}])});return}})}function w(){d=setInterval(()=>{let e=s(Math.floor(++p/3600)),t=s(Math.floor(p%3600/60)),a=s(p%3600%60);function s(e){return e<10&&(e="0"+e),e.toString()}document.querySelector('[tag="controls-item3"]').value=`${e}:${t}:${a}`},1e3)}function S(e,t){let a=document.querySelector('[tag="listEnviados"]'),s=document.createElement("span"),i=document.querySelector('[tag="controls-item1"]'),l=document.querySelector('[tag="controls-item2"]');!0===m?(s.innerHTML=`${language.camp_send_to} ${e}(${t})`,i.value=++i.value):(s.innerHTML=`${language.camp_send_to_error} ${e}(${t})`,l.value=++l.value),a.prepend(s)}function x(){document.querySelector(".relatorio-C")?.remove(),document.querySelector("._64p9P")?.classList.remove("d-none"),clearInterval(d);let e=document.querySelector('[tag="icoCampaign"]');e.setAttribute("active","off"),e.classList.add("filter_white"),e.setAttribute("src",`chrome-extension://${document.querySelector(".waTidyIDContainer").id}/assets/images/svgs/campaign.svg`),Swal.fire({position:"top-start",icon:"success",title:language.swal_camp_cancel,showConfirmButton:!1,timer:2500})}function A(){let e=e=>{let t=e.getAttribute("active");"pausa"===t?(CAMPANHA_STATUS="pausada",document.querySelector('[tag="enviandoPara"]').innerHTML=`${language.camp_pause_aguarde}...`,e.setAttribute("active","transition")):"play"===t&&(CAMPANHA_STATUS="ativa",e.setAttribute("active","pausa"),e.setAttribute("src",`chrome-extension://${document.querySelector(".waTidyIDContainer").id}/assets/images/svgs/pausa.svg`),w(),h(u))},t=()=>{if("pausada"==CAMPANHA_STATUS){x();return}CAMPANHA_STATUS="cancelada",document.querySelector('[tag="enviandoPara"]').innerHTML=`${language.camp_cancel_aguarde}...`},a=document.querySelector('[tag="icoCampaign"]');a.setAttribute("active","on"),a.classList.remove("filter_white"),a.setAttribute("src",`chrome-extension://${document.querySelector(".waTidyIDContainer").id}/assets/images/svgs/campaignActive.svg`);let s=document.querySelectorAll("._2Ts6i._2xAQV")[1],i=document.createElement("div");i.classList.add("relatorio-C"),s.appendChild(i);let l=document.createElement("div");l.classList.add("relatorioHeader-C"),i.appendChild(l);let n=document.createElement("h1");n.innerHTML=language.camp_Titulo,l.appendChild(n);let r=document.createElement("button");r.innerHTML=language.cancel,r.addEventListener("click",t),l.appendChild(r);let o=document.createElement("div");o.classList.add("contentRelatorio-C"),i.appendChild(o);let c=[language.relatorio_inp1,language.relatorio_inp2,language.relatorio_inp3,language.relatorio_inp4],d=document.createElement("div");d.classList.add("controls-C"),o.appendChild(d);let p=0;c.forEach(e=>{let t=document.createElement("div");t.classList.add("controlsItem-C"),d.appendChild(t);let a=document.createElement("span");a.innerHTML=e,t.appendChild(a);let s=document.createElement("input");s.setAttribute("tag","controls-item"+p),s.setAttribute("disabled",""),s.value=0,s.classList.add("waTidy_modal_input"),t.appendChild(s),p++});let m=document.createElement("div");m.classList.add("pausaplayContent"),o.appendChild(m);let g=document.createElement("img");g.setAttribute("active","pausa"),g.setAttribute("src",`chrome-extension://${document.querySelector(".waTidyIDContainer").id}/assets/images/svgs/pausa.svg`),m.appendChild(g),m.addEventListener("click",()=>{e(g)});let v=document.createElement("h2");v.setAttribute("tag","enviandoPara"),v.innerHTML=`${language.relatorio_send}...`,m.appendChild(v);let y=document.createElement("div");y.setAttribute("tag","listEnviados"),o.appendChild(y)}A(),document.querySelector('[tag="controls-item0"]').value=a.length,w(),!0===o&&a.length>5&&(a=a.slice(0,5)),h(0)},allCtsEtiquetas=async e=>{let t=e.data.selectCts,a=e.data.eti;t.forEach(async e=>{await WPP.chat.openChatBottom(e),await WPP.labels.addOrRemoveLabels(e,[{labelId:a,type:"add"}]),document.querySelector("#Tudo").click()}),setTimeout(()=>{let e=document.querySelector("._1Fm4m._1h2dM.app-wrapper-web.font-fix.os-win > span");e?.remove();let t=document.querySelector("#app");setTimeout(()=>{t.classList.remove("d-none"),document.querySelector("#loadEtiquetas")?.remove()},500)},1200)},is_whatsapp=async e=>{try{if(!await WPP.contact.queryExists(e))return!1;return!0}catch(t){return console.log(t),!1}},verifiNumber=async e=>{let t=e,a=["11","12","13","14","15","16","17","18","19","21","22","24","27","28","93","94","95","91",];(10===t.length||11===t.length)&&(t="55"+t);let s=t.substring(2,4);return a.includes(s)?12===t.length&&(t=t.replace(/(\d{4})(\d{4})/,"$19$2")):13===t.length&&(t=t.replace("9","")),t},validarCts=async(e,t,a)=>{let s=async(e,t,a)=>{for(let s=0;s<e.length;s++){let i=e[s].toString();if("0"===(i=i.replace(/[^0-9]/g,"")).charAt(0)&&(i=i.slice(1)),i.length>=10&&i.length<=13&&!1===isNaN(i)){let l=i;if(i=await verifiNumber(i),!1!==a.includes(i))return;a.push(i);if(!0===await is_whatsapp(i)){e[s]=i;let n="Importado da Planilha";if(!1!==t){let r=e[t].toString();n=(r=r.replace(/[^a-zA-Z0-9\s]/g,"")).length<24?r:r.slice(0,21)+"..."}return{name:n,id:i,dados:e}}{if(!1===await is_whatsapp(l))return;e[s]=l;let o="Importado da Planilha";!1!==t&&e[t].length<24&&(o=e[t]);return{name:o,id:l,dados:e}}}}};var i=1;let l=document.querySelector("#loadPercent"),n=document.querySelector("#_loadCont");n.innerHTML=`${t.length}/0`;let r=0,o=!1,c=setInterval(()=>{let e=document.querySelector("#_txtLoad");if(e){let t=[];t[0]=`✅ ${language.extract_num1}`,t[1]=`✅ ${language.extract_num2}`,t[2]=`✅ ${language.extract_num3}`,t[3]=`✅ ${language.extract_num4}`,e.innerHTML=t[r],++r>3&&(r=0)}},5e3);$("#_closeProcess").one("click",()=>{clearInterval(c),o=!0});var d=!1;for(let p=0;p<a.length;p++)if("NOME"==a[p].toUpperCase()||"NAME"==a[p].toUpperCase()){d=p;break}var u=[],m=[];for(let h=0;h<t.length;h++){let g=await s(t[h],d,m);if(void 0!==g&&u.push(g),!0===o){u=[];break}l.style.strokeDashoffset=`calc(562 - (562 * ${100*i/t.length}) / 100)`,n.innerHTML=`${t.length}/${i}`,i++}!0!==o?(GFN.DADOS_PLANILHA.content=u,window.postMessage({message:"uploadContacts",is_camapanha:e,contacts:u,keys:a},"*"),clearInterval(c),document.querySelector(".mainCamp")?.classList.remove("op_0-3"),$(".campanha_modal").remove(),Swal.fire({icon:"success",title:language.swal_extract_success,showConfirmButton:!1,timer:1500})):Swal.fire({icon:"warning",title:language.swal_extract_cancel,showConfirmButton:!1,timer:1500})},_insereCts=async e=>{let t=e.data.num;if((t=await verifiNumber(t)).length<7){Swal.fire({icon:"error",title:language.swal_insereCts_error,showConfirmButton:!1,timer:1500});return}let a=await WPP.contact.queryExists(t);if(null!==a){let s={id:t,name:"Inserido"};document.querySelector('[tag="bntInsere"]').value="",e.source.postMessage({message:"ctsInsere",models:s},"*")}else Swal.fire({icon:"error",title:language.swal_insereCts_invalido,showConfirmButton:!1,timer:1500})};window.addEventListener("message",async e=>{if("initCampanha"==e.data.action&&initCampanha(e.data.dados),"etiquetas-C"==e.data.action){let t=WPP.whatsapp.LabelStore._models,a=[];t.forEach(e=>{if(e.hexColor){let t={id:e.id,name:e.name,color:e.hexColor};a.push(t)}});let s=document.querySelector('[tag="selectEtc"]');a.forEach(e=>{let t=document.createElement("option");t.setAttribute("value",e.id),t.innerHTML=e.name,s.appendChild(t)})}if("insereCts"==e.data.action&&_insereCts(e),"validarCts"==e.data.action&&validarCts(e.data.is_camapanha,e.data.dados,e.data.keys),"getEtiquetasContacts"==e.data.action&&getContatsEtiquetas(e),"getAllGroupsData"==e.data.action&&getContatsGrups(e),"getAllContactsData"==e.data.action){let i=[],l=[],n;(l=[...window[Ue].Chat._models.filter(e=>!e.contact.name),...await WPP.contact.list({onlyMyContacts:!0})]).forEach(e=>{let t={id:e.id.user,name:e.contact?.displayName||e.name||e.id.user,picture:e.picture};i.push(t)}),!0===e.data.campanha?e.source.postMessage({message:"contactsData",models:i},e.origin):e.source.postMessage({message:"AllWatidyContacts",models:i},"*")}if("dispararAgenda"==e.data.action&&dispararAgenda(e.data.msg,e.data.tell),"sendMsgRapida"==e.data.action&&sendMsgRapida(e.data.dados,e.data.tell),"isBusines"==e.data.action){let r=WPP.profile.isBusiness();e.source.postMessage({message:"isBusines",isBusines:r})}if("ctsEtiquetas"==e.data.action){let o=WPP.whatsapp.LabelStore._models,c=[];o.forEach(e=>{if(e.hexColor){let t={id:e.id,name:e.name,color:e.hexColor};c.push(t)}});let d=document.querySelector("#ctsDestino");d.innerHTML="",c.forEach(e=>{let t=document.createElement("option");t.innerText=e.name,t.value=e.id,d.appendChild(t),d.dispatchEvent(new Event("change"))})}if("AllCtsEtiquetas"==e.data.action&&allCtsEtiquetas(e),"btnsFuncao"==e.data.action&&window.postMessage({action:"contatosSalvos",models:e.data.models},"*"),"initWatidyContacts"==e.data.action&&watidyContatos(),"saveContato"==e.data.action){let p=e.data.name,u=await verifiNumber(e.data.num),m=e.data.contatos;var h=!1;if(await WPP.contact.queryExists(u),m.forEach(e=>{e.id===u&&(e.name=p,h=!0)}),!1===h){let g={id:u,name:p};m.push(g)}e.source.postMessage({message:"postSaveContato",contato:m})}if("selectEtc"==e.data.action){let v=WPP.whatsapp.LabelStore._models;v.forEach(e=>{let t=document.createElement("option");t.innerHTML=e.__x_name,t.setAttribute("value",e.__x_id),document.querySelector("#selectEtc").appendChild(t)})}"is_Select"==e.data.action&&(is_Select=e.data.is_Select)});const getContatsEtiquetas=e=>{let t=WPP.whatsapp.LabelStore._models;var a=[];t.forEach(e=>{let t=[];e.labelItemCollection._models.forEach(e=>{let a=e.__x_parentId.split("@")[0];t.push(a)});var s=t.filter(function(e,a){return t.indexOf(e)===a});let i=[];s.forEach(e=>{let t={id:e,name:e};WPP.whatsapp.ChatStore._models.filter(a=>{if(a.__x_id.user===e){t.name=a.__x_formattedTitle;return}}),i.push(t)});let l={id:e.__x_id,name:e.__x_name,participants:i};a.push(l)}),e.source.postMessage({message:"etiquetas",models:a},e.origin)},sendMsgRapida=(e,t)=>{if(t.length>17&&(t=`${t}@g.us`),"NULL"===e[0])WPP.chat.sendTextMessage(t,e[1],{createChat:!0});else{let a=e[0];a=a.split("/"),s(t,e[0],e[2],e[1],a)}async function s(e,t,a,s,i){let l="data:audio"==i[0]?"audio":"auto-detect",n=s;("data:text"==i[0]||"data:application"==i[0])&&(n=""),await WPP.chat.sendFileMessage(e,t,{type:l,isPtt:!0,filename:a,caption:n,createChat:!0}),("data:text"==i[0]||"data:application"==i[0])&&await WPP.chat.sendTextMessage(e,s,{createChat:!0})}e=[],t=NaN},dispararAgenda=(e,t)=>{for(let a=0;a<t.length;a++)t[a].length<17?WPP.chat.sendTextMessage(t[a],e[a],{createChat:!0}):WPP.chat.sendTextMessage(`${t[a]}@g.us`,e[a],{createChat:!0})},getContatsGrups=async e=>{let t=[],a=[],s=[];(await WPP.contact.list({onlyMyContacts:!0})).forEach(e=>{let a={id:e.id.user,name:e.name,labels:e.labels||[],groups:[]};t.push(a)}),WPP.whatsapp.ChatStore._models.filter(e=>!e.contact.name).forEach(e=>{let a={id:e.id.user,name:e.contact?.displayName||e.id.user,labels:e.labels||[],groups:[]};t.push(a)}),WPP.whatsapp.GroupMetadataStore._models.forEach(e=>{if(e.subject){let a={id:e.id._serialized,name:e.subject,labels:[],groups:[e.id._serialized]};s.push(a),t.push(a),e.participants._models.forEach(a=>{if(t.find(e=>e.id==a.id.user))t.find(e=>e.id==a.id.user).groups.push(e.id._serialized);else{let s={id:a.id.user,name:a.contact.displayName||a.id.user,labels:a.contact?.labels||[],groups:[e.id._serialized]};t.push(s)}})}}),WPP.profile.isBusiness()&&WPP.whatsapp.LabelStore._models.forEach(e=>{if(e.hexColor){let t={id:e.id,name:e.name};a.push(t)}});let i=[];for(let l=0;l<s.length;l++)i[l]={id:s[l].id,name:s[l].name,participants:[]};for(let n=0;n<t.length;n++)if(t[n].id>15&&0!==t[n].groups.length){for(let r=0;r<t[n].groups.length;r++)for(let o=0;o<i.length;o++)if(i[o].id===t[n].groups[r]){let c={id:t[n].id,name:t[n].name};i[o].participants.push(c)}}e.data.campanha?e.source.postMessage({message:"groupsData",models:i},e.origin):e.source.postMessage({message:"groupsWatidyContacts",models:i},"*")},watidyContatos=()=>{var e=!1,t="";window.addEventListener("message",s=>{"AllWatidyContacts"==s.data.message&&(e=!1,t=s.data.models,r(s.data.models)),"groupsWatidyContacts"==s.data.message&&(e=!1,i(s.data.models)),"tabsWatidyContacts"==s.data.message&&(e=!1,a(s.data.models))}),window.addEventListener("message",a=>{"closeWatidyContacts"==a.data.action&&(e=!0),"renderGroupWatidyContatos"==a.data.action&&l(),"renderTabsWatidyContatos"==a.data.action&&s(),"contatosSalvos"==a.data.action&&(e=!1,t=a.data.models,r(a.data.models)),"pesquisaChat"==a.data.action&&(e=!0,o(a.data.pesquisa))});let a=e=>{tabsData=e;let t=document.querySelector("#selectTabs");t.innerHTML="",e.forEach(e=>{let a=document.createElement("option");a.innerText=e.name,a.value=e.id,t.appendChild(a)}),t.dispatchEvent(new Event("change"))},s=()=>{let e=document.querySelector(".opcaoRadio");e.innerHTML="";let a=document.createElement("select");a.setAttribute("id","selectTabs"),a.classList.add("selectHub"),a.addEventListener("change",()=>{let e=a.value,s=tabsData.find(t=>t.name==e)?.participants;t=s,r(s)}),e.appendChild(a),window.postMessage({message:"ShowUserTabs"},"*")},i=e=>{groupsData=e;let t=document.querySelector("#selectGrups");t.innerHTML="",e.forEach(e=>{let a=document.createElement("option");a.innerText=e.name,a.value=e.id,t.appendChild(a)}),t.dispatchEvent(new Event("change"))},l=()=>{let e=document.querySelector(".opcaoRadio");e.innerHTML="";let a=document.createElement("select");a.setAttribute("id","selectGrups"),a.classList.add("selectHub"),a.addEventListener("change",()=>{let e=a.value,s=groupsData.find(t=>t.id==e)?.participants;t=s,r(s)}),e.appendChild(a),window.postMessage({action:"getAllGroupsData",campanha:!1},"*")},n=async e=>{if("selectAll"===selectImg.attributes.data.value)await WPP.chat.openChatBottom(e.attributes.index.value);else{let t=e.querySelector(".watidyChat > ._1-gER > div > div");t.classList.toggle("radioSaveCts");let a=e.querySelector(".watidyChat > ._1-gER > div > div > div");a.classList.toggle("d-none"),e.classList.toggle("_atv")}},r=async t=>{let a=document.querySelector("#loadSelect"),s=document.querySelector("#selectImg"),i=document.querySelector("#slcTodosWa");i.innerHTML=language.watidy_cts_selectAll,s.setAttribute("src",`chrome-extension://${document.querySelector(".waTidyIDContainer").id}/assets/images/svgs/selectAll.svg`),s.setAttribute("data","selectAll"),s.title=language.watidy_cts_selectAll_Title,a.classList.remove("d-none"),s.classList.add("d-none");let l=document.querySelector("#chatList"),r=document.querySelector("#chatWatidy");r?.remove(),(r=document.createElement("div")).classList.add("_3uIPm","WYyr1"),r.setAttribute("id","chatWatidy"),l.appendChild(r);var o=0,c=0;o=t.length<100?t.length:100;let d=async(i,l)=>{for(i=0;i<l&&!0!==e;i++){a.classList.remove("d-none"),s.classList.add("d-none"),r.style.height=`${(i+1)*72}px`;let o=t[i].id;o=o.length<17?`${o}@c.us`:`${o}@g.us`;let c="";c=t[i].picture?t[i].picture:await WPP.contact.getProfilePictureUrl(o);let p="https://campanhas.touschat.com/painel_Touschat/link_default/fotoDefault.png";void 0===c&&(c=p);let u=document.createElement("div");if(u.classList.add("lhggkp7q","ln8gz9je","rx9719la","cts"),u.style.zIndex="501",u.style.height="72px",u.innerHTML=`<div class="_1Oe6M watidyChat">
                <div class="lhggkp7q edqan5gp cv1ohgtz p357zi0d gndfcl4n b6qzmhfs ppled2lx _1-gER d-none"><input class="lhggkp7q cxec7x23 kanlod6e gfz4du6o r7fjleex nmeg1xfo okm7a8wg le5p0ye3" type="checkbox" tabindex="0" data-testid="hidden-checkbox" checked="">
                  <div class="g0rxnol2 l7jjieqr dh5rsm73 hpdpob1j neme6l2y ajgl1lbb dntxsmpk ixn6u0rb s2vc4xk1 o0wkt7aw cgi16xlc" tabindex="-1" aria-hidden="true" data-testid="visual-checkbox">
                    <div class="g0rxnol2 cm280p3y ppled2lx m62443ks diqd3znl cd4l02zd m98q8jdg aickbkrb h0ed51ke dntxsmpk ixn6u0rb s2vc4xk1 o0wkt7aw cpfmwfku eliz2k8b qei0rtf7 toeh7gh7 nncek28p br6oik82 radioSaveCts">
                      <div class="lhggkp7q hdpg1tjz ptatjang dj32rci9 g965lu3b q4zabkcz q0ohlrvj av59jz02 grf4wkbn hir9ny8g bs7a17vp b73q89nx em5jvqoa a21kwdn3 ehl15zf9  d-none"></div>
                    </div>
                  </div>
                </div>
                <div tabindex="0" class="" aria-selected="true" role="row">
                  <div data-testid="cell-frame-container" class="_199zF _3j691 _2N1Gm p-0px">
                    <div class="_1AHcd">
                      <div class="_13jwn">
                        <div data-testid="chatlist-status-v3-ring">
                          <div class="g0rxnol2 g9p5wyxn i0tg5vk9 aoogvgrq o2zu3hjb" style="height: 49px; width: 49px;"><img src="${c}" alt="" draggable="false" class="g0rxnol2 f804f6gw ln8gz9je ppled2lx gfz4du6o r7fjleex g9p5wyxn i0tg5vk9 aoogvgrq o2zu3hjb bs7a17vp csshhazd _11JPr" style="visibility: visible;"></div>
                        </div>
                      </div>
                    </div>
                    <div class="_8nE1Y">
                      <div role="gridcell" aria-colindex="2" class="y_sn4">
                        <div class="_21S-L"><span class="_7T_0D"><span dir="auto" title="${t[i].name}" aria-label="" class="ggj6brxn gfz4du6o r7fjleex g0rxnol2 lhj4utae le5p0ye3 l7jjieqr _11JPr">${t[i].name}</span>
                            <div class="_3z5ZI"></div>
                          </span></div>
                      </div>
                      
                    </div>
                  </div>
                </div>
              </div>`,u.style.transform=`translateY(${72*i}px)`,u.setAttribute("index",t[i].id),u.addEventListener("click",()=>{n(u,s)}),r.appendChild(u),99===i){a.classList.add("d-none"),s.classList.remove("d-none");let m=document.createElement("div");m.classList.add("_setaDonw","lhggkp7q","ln8gz9je","rx9719la"),m.style.zIndex="501",m.style.height="72px",m.style.transform=`translateY(${(i+1)*72}px)`,r.style.height=`${(i+2)*72}px`,m.addEventListener("click",()=>{"close"===s.attributes.data.value&&s.click(),m?.remove(),a.classList.remove("d-none"),s.classList.add("d-none"),d(i+1,l=t.length)});let h=document.createElement("div");h.classList.add("_setaContent");let g=document.createElement("span");g.innerHTML='<svg viewBox="0 0 24 24" height="40" width="40" preserveAspectRatio="xMidYMid meet" class="" version="1.1" x="0px" y="0px" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="currentColor" d="M12,4l1.4,1.4L7.8,11H20v2H7.8l5.6,5.6L12,20l-8-8L12,4z"></path></svg>';let v=document.createElement("p");v.innerHTML=language.watidy_cts_loadMais,h.appendChild(g),h.appendChild(v),m.appendChild(h),r.appendChild(m)}}a.classList.add("d-none"),s.classList.remove("d-none")},p=()=>{let e=document.getElementsByClassName("cts");var t=!1;i.addEventListener("click",()=>{if(!1===t){for(let a=0;a<e.length;a++){let s=e[a],l=s.querySelector(".watidyChat > ._1-gER > div > div");l.classList.remove("radioSaveCts");let n=s.querySelector(".watidyChat > ._1-gER > div > div > div");n.classList.remove("d-none"),s.classList.add("_atv")}i.innerHTML=language.watidy_cts_removeAll}else{for(let r=0;r<e.length;r++){let o=e[r],c=o.querySelector(".watidyChat > ._1-gER > div > div");c.classList.add("radioSaveCts");let d=o.querySelector(".watidyChat > ._1-gER > div > div > div");d.classList.add("d-none"),o.classList.remove("_atv")}i.innerHTML=language.watidy_cts_selectAll}t=!t})};d(c,o),p()},o=a=>{document.querySelector("#chatWatidy")?.remove();let s=[];if(""==(a=a.toUpperCase()).trim())e=!1,r(t);else{for(let i=0;i<t.length;i++)t[i].name.toUpperCase().indexOf(a)>-1&&s.push(t[i]);e=!1,r(s)}}};