var msgRapidas_ActivePermanece=!1,initMsgRapidas=!1,openR=!1;const msg_rapidas=()=>{let e=document.querySelector("div._2lSWV._3cjY2.copyable-area");if(!e)return;let t=document.querySelector('[data-testid="compose-box"]'),a=document.createElement("div");a.classList.add("boxFooter");let s=document.createElement("div");s.classList.add("boxFooterDiv1");let i=document.createElement("div");i.classList.add("boxFooterDiv2"),(msgAgendarDiv=document.createElement("img")).setAttribute("src",chrome.runtime.getURL("assets/images/svgs/msgRapido.svg")),msgAgendarDiv.classList.add("msgAgendarDiv"),GFN.initTitle(msgAgendarDiv,language.msg_rapidas_title,"top-start"),msgAgendarDiv.style.filter="invert(0.57)",s.appendChild(t),i.appendChild(msgAgendarDiv),a.appendChild(s),a.appendChild(i),e.appendChild(a);let l=document.querySelector(".mensageRapidas"),d=document.querySelector(".msgAgendarDiv"),n=document.querySelector("div._1jJ70"),r=document.querySelector("div._2Ts6i._1xFRo"),o=document.querySelector("div._2Ts6i._1xFRo > .lhggkp7q.qq0sjtgm.ebjesfe0.jxacihee.tkdu00h0");icoRaio(l,d,n,r,o),btnsModais(l,d,r,o)},icoRaio=(e,t,a,s,i)=>{!1===msgRapidas_ActivePermanece?(t.style.transform="rotate(0deg)",openR=!1):!0===msgRapidas_ActivePermanece&&(t.style.transform="rotate(57deg)",openR=!0),t.addEventListener("click",function(){!1===openR?(i.style.display="none",a.classList.remove("two"),a.classList.add("three"),e.style.display="block",s.style.flex="0 0 18.1%",t.style.transform="rotate(57deg)",openR=!0,msgRapidas_ActivePermanece=!0):!0===openR&&(i.style.display="none",a.classList.remove("three"),a.classList.add("two"),e.style.display="none",s.style.flex="0",t.style.transform="rotate(0deg)",openR=!1,msgRapidas_ActivePermanece=!1)})},btnsModais=(e,t,a,s)=>{let i=()=>{e.style.display="none",s.style.display="block",a.style.flex="",t.style.transform="rotate(0deg)",openR=!1,msgRapidas_ActivePermanece=!1},l=document.querySelector('div[data-testid="conversation-panel-body"]'),d=document.querySelector('div[data-testid="conversation-info-header"]'),n=document.querySelector('[data-testid="search-button"]'),r=document.querySelector('div[data-testid="conversation-menu-button"] > div'),o=document.querySelector('[data-testid="product_catalog-button"]');l.addEventListener("click",i),d.addEventListener("click",i),n.addEventListener("click",i),o?.addEventListener("click",i),r.addEventListener("click",function(){let e=setInterval(()=>{t()},100),t=()=>{let t=document.querySelector('.Iaqxu.FCS6Q.jScby > [aria-label="Mensagens tempor\xe1rias"]'),a=document.querySelector('.Iaqxu.FCS6Q.jScby > [aria-label="Dados do contato"]');t&&(t.addEventListener("click",i),setTimeout(()=>{document.querySelector('[data-testid="drawer-right"] > span').style.display=""},300),clearInterval(e),a.addEventListener("click",i))}})},actionImg=(e,t)=>{"_imgHr0"===e&&showCreateMensagensRapidas(t),"_imgHr1"===e&&showAgendarMsg(t),"_imgHr2"===e&&showNotesModal(t)};let injectMain_three=setInterval(()=>{main_Three()},100);const main_Three=()=>{if(document.querySelector("div._1jJ70")){let e=document.querySelector("div._2Ts6i._1xFRo"),t=document.createElement("div");t.classList.add("mensageRapidas");let a=document.createElement("div");a.classList.add("msgRapidasHeader");let s=document.createElement("div");s.classList.add("divIcones");let i=["msgRapido","calendario","note"],l=[language.msg_rapidas_title,language.agendar_msg_title,language.notas_title],d=0;i.forEach(e=>{let t=document.createElement("img");t.setAttribute("src",chrome.runtime.getURL(`assets/images/svgs/${e}.svg`)),t.classList.add("filter_white"),t.setAttribute("id",`_imgHr${d}`),t.addEventListener("click",e=>{actionImg(t.id,e)}),t.style.width="25px",t.title=l[d],s.appendChild(t),d++});document.createElement("div").classList.add("mensagensRapidasContent");let n=document.createElement("div");n.classList.add("navContainer");let r=document.createElement("div");r.classList.add("navPesquisar"),r.innerHTML=`<div tabindex="-1" class="_3gYev">
       <div class="_3wQ5i _1s7Pa" data-testid="chat-list-search-container">
         <div class="_1EUay">
           <button data-testid="icon-search-morph" class="opCKJ _28iyj" aria-label="Pesquisar ou come\xe7ar uma nova conversa">
             <div class="_3xdht _2hW8J">
               <span data-testid="back" data-icon="back" class="">
                 <svg viewBox="0 0 24 24" width="24" height="24" class="">
                   <path fill="currentColor" d="m12 4 1.4 1.4L7.8 11H20v2H7.8l5.6 5.6L12 20l-8-8 8-8z"></path>
                 </svg>
               </span>
             </div>
             <div class="_3xdht _1ZD3q">
               <span data-testid="search" data-icon="search" class="">
                 <svg viewBox="0 0 24 24" width="24" height="24" class="svgLupa">
                   <path fill="currentColor" d="M15.009 13.805h-.636l-.22-.219a5.184 5.184 0 0 0 1.256-3.386 5.207 5.207 0 1 0-5.207 5.208 5.183 5.183 0 0 0 3.385-1.255l.221.22v.635l4.004 3.999 1.194-1.195-3.997-4.007zm-4.808 0a3.605 3.605 0 1 1 0-7.21 3.605 3.605 0 0 1 0 7.21z"></path>
                 </svg>
               </span>
             </div>
           </button>
           <span></span>
          
           <div id="mainPesquisa" class="_2vDPL">
             <div tabindex="-1" class="_3RN1i _3jaYl">
             <input id="pesquisaMsg" type="text" placeholder="${language.pesquisar_Title}">
             </div>
           </div>
         </div>
       </div>
       </div>`;let o=document.createElement("div");o.classList.add("navButtons");let c=document.createElement("div");c.classList.add("buttonsContent");let g=document.createElement("div");g.classList.add("btnAll"),g.innerHTML=`<button data-tab="4" id="bntAll" aria-label="Menu de filtros de conversas" title="Mensagens de texto" class="tt8xd2xn bugiwsl0 mpdn4nr2 fooq7fky">
        <div class="p357zi0d ktfrpxia nu7pwgvd ac2vgrno sap93d0t gndfcl4n ekdr8vow dhq51u3o s4k44ver g9p5wyxn i0tg5vk9 aoogvgrq o2zu3hjb">
          <span data-testid="filter" data-icon="filter" class="">
            <svg viewBox="0 0 24 24" width="20" height="20" preserveAspectRatio="xMidYMid meet" class="">
              <path fill="currentColor" d="M10 18.1h4v-2h-4v2zm-7-12v2h18v-2H3zm3 7h12v-2H6v2z"></path>
            </svg>
          </span>
        </div>
      </button>`;let p=document.createElement("div");p.classList.add("btnImg");let v=document.createElement("img");v.setAttribute("src",chrome.runtime.getURL("assets/images/svgs/bntImg.svg")),v.classList.add("imgNav"),p.appendChild(v);let m=document.createElement("div");m.classList.add("btnVideo");let _=document.createElement("img");_.setAttribute("src",chrome.runtime.getURL("assets/images/svgs/bntVideo.svg")),_.classList.add("imgNav"),m.appendChild(_);let $=document.createElement("div");$.classList.add("btnDoc");let u=document.createElement("img");u.setAttribute("src",chrome.runtime.getURL("assets/images/svgs/docsBtn.svg")),u.classList.add("imgNav"),$.appendChild(u);let h=document.createElement("div");h.classList.add("bntAudio");let L=document.createElement("img");L.setAttribute("src",chrome.runtime.getURL("assets/images/svgs/btnAudio1.svg")),L.classList.add("imgNav"),h.appendChild(L),a.appendChild(s),t.appendChild(a),c.appendChild(g),c.appendChild(p),c.appendChild(m),c.appendChild($),c.appendChild(h),o.appendChild(c),n.appendChild(r),n.appendChild(o),t.appendChild(n);let y=setInterval(f(initMsgRapidas),100);function f(e){let a=document.createElement("div");a.classList.add("campList"),t.appendChild(a),msgRapidas.then(t=>{let s=t.filter(e=>e).reverse();if(0==s.length){let i=document.createElement("h1");i.setAttribute("id","empty"),i.innerHTML=language.msg_rapidas_notEmpy,a.appendChild(i)}else!1===e&&(s.forEach(e=>{A(e,s,a)}),e=!0);clearInterval(y)})}let b=[],C=[],R=[],E=[],M=[],k=0,x=[],w=[],q=[],S=[];function A(e,t,a){document.querySelector("#empty")?.remove();let s=document.createElement("hr");if(s.classList.add("linhaMsgRapidas"),b[k]=document.createElement("div"),b[k].classList.add("listContent"),x[k]=document.createElement("div"),x[k].classList.add("tituloContent"),w[k]=document.createElement("div"),w[k].classList.add("tituloDiv1"),q[k]=document.createElement("div"),q[k].classList.add("tituloDiv2"),S[k]=document.createElement("div"),S[k].classList.add("tituloDiv3"),x[k].appendChild(w[k]),x[k].appendChild(q[k]),x[k].appendChild(S[k]),C[k]=document.createElement("div"),C[k].classList.add("listTitulo"),C[k].data=k,C[k].appendChild(x[k]),R[k]=document.createElement("div"),R[k].classList.add("listSend"),R[k].data=k,E[k]=document.createElement("div"),E[k].classList.add("listMedia"),M[k]=document.createElement("div"),M[k].classList.add("listText"),b[k].appendChild(C[k]),b[k].appendChild(R[k]),b[k].appendChild(E[k]),b[k].appendChild(M[k]),a.appendChild(b[k]),a.appendChild(s),"NULL"===e.file)w[k].innerHTML=`
              <span data-testid="filter" data-icon="filter" class="">
                <svg viewBox="0 0 24 24" width="20" height="20" preserveAspectRatio="xMidYMid meet" class="">
                  <path fill="currentColor" d="M10 18.1h4v-2h-4v2zm-7-12v2h18v-2H3zm3 7h12v-2H6v2z"></path>
                </svg>
            </span>`,E[k].style.display="none";else{let i=e.file,l=document.createElement("abbr");l.title=e.nameFile;let d=document.createElement("img"),n;if("data:image"===(i=i.split("/"))[0]){n="bntImg",E[k].innerHTML=`<img class='listImg' src='${e.file}'>`;let r=document.createElement("img");r.classList.add("imgNav"),r.setAttribute("src",chrome.runtime.getURL("assets/images/svgs/bntImg.svg")),w[k].appendChild(r)}else if("data:audio"===i[0]){n="btnAudio1";let o=document.createElement("img");o.classList.add("imgNav"),o.setAttribute("src",chrome.runtime.getURL("assets/images/svgs/btnAudio1.svg")),w[k].appendChild(o)}else if("data:video"===i[0]){n="bntVideo";let c=document.createElement("img");c.classList.add("imgNav"),c.setAttribute("src",chrome.runtime.getURL("assets/images/svgs/bntVideo.svg")),w[k].appendChild(c)}else{n="docsBtn";let v=document.createElement("img");v.classList.add("imgNav"),v.setAttribute("src",chrome.runtime.getURL("assets/images/svgs/docsBtn.svg")),w[k].appendChild(v)}"data:image"!==i[0]&&(d.setAttribute("src",chrome.runtime.getURL(`assets/images/svgs/${n}.svg`)),d.classList.add("imgNav"),d.style.width="64px",l.appendChild(d),E[k].appendChild(l))}let _=[];function u(e){for(let a=0;a<t.length;a++){let s=t[a].file;(s=s.split("/"))[0]!==e&&(b[a].style.display="none")}}function L(){for(let e=0;e<t.length;e++)b[e].style.display=""}function y(){g.style.backgroundColor="var(--mainMsgRapidas)",p.style.backgroundColor="var(--mainMsgRapidas)",h.style.backgroundColor="var(--mainMsgRapidas)",m.style.backgroundColor="var(--mainMsgRapidas)",$.style.backgroundColor="var(--mainMsgRapidas)"}if(_[0]=!1,_[1]=!1,_[2]=!1,_[3]=!1,_[4]=!1,g.addEventListener("click",function(){y(),L(),_[1]=!1,_[2]=!1,_[3]=!1,_[4]=!1,!1===_[0]?(g.style.backgroundColor="var(--btnSelect)",function e(){for(let a=0;a<t.length;a++)"NULL"!==t[a].file&&(b[a].style.display="none")}(),_[0]=!0):!0===_[0]&&(g.style.backgroundColor="var(--mainMsgRapidas)",L(),_[0]=!1)}),p.addEventListener("click",function(){y(),L(),_[0]=!1,_[2]=!1,_[3]=!1,_[4]=!1,!1===_[1]?(p.style.backgroundColor="var(--btnSelect)",u("data:image"),_[1]=!0):!0===_[1]&&(p.style.backgroundColor="var(--mainMsgRapidas)",L(),_[1]=!1)}),m.addEventListener("click",function(){y(),L(),_[0]=!1,_[1]=!1,_[3]=!1,_[4]=!1,!1===_[2]?(m.style.backgroundColor="var(--btnSelect)",u("data:video"),_[2]=!0):!0===_[2]&&(p.style.backgroundColor="var(--mainMsgRapidas)",L(),_[2]=!1)}),$.addEventListener("click",function(){y(),L(),_[0]=!1,_[1]=!1,_[2]=!1,_[4]=!1,!1===_[3]?($.style.backgroundColor="var(--btnSelect)",function e(){for(let a=0;a<t.length;a++){let s=t[a].file;s=s.split("/"),("NULL"===t[a].file||"data:image"===s[0]||"data:video"===s[0]||"data:audio"===s[0])&&(b[a].style.display="none")}}(),_[3]=!0):!0===_[3]&&($.style.backgroundColor="var(--mainMsgRapidas)",L(),_[3]=!1)}),h.addEventListener("click",function(){y(),L(),_[0]=!1,_[1]=!1,_[2]=!1,_[3]=!1,!1===_[4]?(h.style.backgroundColor="var(--btnSelect)",u("data:audio"),_[4]=!0):!0===_[4]&&(h.style.backgroundColor="var(--mainMsgRapidas)",L(),_[4]=!1)}),e.titulo.length<15)q[k].innerHTML=e.titulo;else{let f=e.titulo,A=f[0];for(let T=1;T<12;T++)A+=f[T];A+=" ...",q[k].innerHTML=A}if(S[k].data=k,S[k].innerHTML='<span data-testid="down-context" data-icon="down-context" class=""><svg viewBox="0 0 18 18" height="18" width="18" preserveAspectRatio="xMidYMid meet" class="imgNav" version="1.1" x="0px" y="0px" enable-background="new 0 0 18 18" xml:space="preserve"><path fill="currentColor" d="M3.3,4.6L9,10.3l5.7-5.7l1.6,1.6L9,13.4L1.7,6.2L3.3,4.6z"></path></svg></span>',R[k].innerHTML='<svg viewBox="0 0 24 24" height="20" width="20" preserveAspectRatio="xMidYMid meet" class="" version="1.1" x="0px" y="0px" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="currentColor" d="M1.101,21.757L23.8,12.028L1.101,2.3l0.011,7.912l13.623,1.816L1.112,13.845 L1.101,21.757z"></path></svg>',M[k].innerHTML=e.texto,t.length===k+1){let j=document.getElementsByClassName("tituloDiv3");for(let N=0;N<j.length;N++){let U=j[N],D=!1;U.addEventListener("click",function(){for(let e=0;e<j.length;e++)if(b[e].style.backgroundColor="",b[e].style.gridTemplateRows="1fr",E[e].style.display="none",M[e].style.display="none",t[e].titulo.length<15)q[e].innerHTML=t[e].titulo;else{let a=t[e].titulo,s=a[0];for(let i=1;i<12;i++)s+=a[i];s+=" ...",q[e].innerHTML=s}!1===D?("NULL"==t[U.data].file?b[U.data].style.gridTemplateRows="0.1fr 1fr":(b[U.data].style.gridTemplateRows="0.1fr 1fr 1fr",E[U.data].style.display="grid"),b[U.data].style.backgroundColor="var(--listHouver)",M[U.data].style.display="grid",q[U.data].innerHTML=t[U.data].titulo,D=!0):(b[U.data].style.gridTemplateRows="1fr",b[U.data].style.backgroundColor="",D=!1)})}}if(t.length===k+1){var z=document.getElementsByClassName("listTitulo"),B=document.getElementsByClassName("listSend");for(let F=0;F<z.length;F++){let P=z[F];B[F].addEventListener("click",function(){H(P.data,t)})}}k++}async function H(e,t){chrome.storage.local.get("license",e=>{e.license?a():chrome.storage.local.get("freeMsgRapida",e=>{let t=new Date,s=String(t.getDate()).padStart(2,"0"),i,l=`${String(t.getMonth()+1).padStart(2,"0")}/${s}/${t.getFullYear()}`;if(console.log(e.freeMsgRapida),void 0==e.freeMsgRapida)chrome.storage.local.set({freeMsgRapida:{dataHj:l,enviados:1}}),a();else{var d=new Date(e.freeMsgRapida.dataHj),n=new Date(l),r=e.freeMsgRapida.dataHj,o=e.freeMsgRapida.enviados;if(0==Math.abs(n-d)/864e5){if(++o<=3)a();else{let c=language.newChatFree;GFN.modalPremium(!1,c)}}else r=l,o=1,a();let g={dataHj:r,enviados:o};chrome.storage.local.set({freeMsgRapida:g}),console.log(e),console.log(e.freeMsgRapida.dataHj)}})});let a=()=>{let a=t[e],s=[],i=0,l=0,d=setInterval(()=>{window.postMessage({message:"getActiveIDForReminder"},"*"),0!=activeID&&2===l&&(s[0]=a.file,s[1]=a.texto,s[2]=a.nameFile,i=activeID,console.log(activeID),window.postMessage({action:"sendMsgRapida",dados:s,tell:i},"*"),i=0,activeID=0,clearInterval(d)),l++},150)}}e.appendChild(t),document.querySelector("#pesquisaMsg").addEventListener("keyup",()=>filterMsg()),clearInterval(injectMain_three)}};